<style type="text/css">
::-webkit-scrollbar {
  width: 6px;
  height: 8px;
}
::-webkit-scrollbar-thumb {
  height: 40px;
  background-color: #eee;
  border-radius: 16px;
  &:hover {
    background-color: #ddd;
  }
}

.post-toc{
  position: fixed; 
  right:5px;
  max-width:300px; 
  overflow:auto; 
  top: 100px; 
  width: 100vw; 
  bottom:50px;
}

@media only screen and (max-width: 1224px) {
  .post-toc {
      display: none;
  }
} 

</style>


{{ if (.Params.toc | default true ) }}
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">{{ T "toc" }}</h2>
  {{ $globalAutoCollapseToc := .Site.Params.autoCollapseToc | default false }}
  <div class="post-toc-content{{ if not (or .Params.autoCollapseToc (and $globalAutoCollapseToc (ne .Params.autoCollapseToc false))) }} always-active{{ end }}">
    {{.TableOfContents}}
  </div>
</div>
{{ end }}


<script type="text/javascript">
  // window.onload = function () {
  //   var fix = $('.post-toc');
  //   var end = $('.post-comment');
  //   var fixTop = fix.offset().top, fixHeight = fix.height();
  //   var endTop, miss;
  //   var offsetTop = fix[0].offsetTop;

  //   $(window).scroll(function () {
  //     var docTop = Math.max(document.body.scrollTop, document.documentElement.scrollTop);

  //     if (end.length > 0) {
  //       endTop = end.offset().top;
  //       miss = endTop - docTop - fixHeight;
  //     }

  //     if (fixTop < docTop) {
  //       fix.css({ 'position': 'fixed' });
  //       if ((end.length > 0) && (endTop < (docTop + fixHeight))) {
  //         fix.css({ top: miss });
  //       } else {
  //         fix.css({ top: 0 });
  //       }
  //     } else {
  //       fix.css({ 'position': 'absolute' });
  //       fix.css({ top: offsetTop });
  //     }
  //   })
  // }
</script> 